spring.application.name=LiftAKids
server.servlet.context-path=/LiftAKids
server.address=0.0.0.0
server.port=8081

# ===============================
# DATABASE
# ===============================
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.url=${DB_URL:jdbc:mysql://liftakidsdb.c9qmeockkigg.ap-south-1.rds.amazonaws.com:3306/liftakidsdb?useSSL=true&requireSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&enabledTLSProtocols=TLSv1.2}
spring.datasource.username=${DB_USERNAME:liftakids}
spring.datasource.password=${DB_PASSWORD:AuHD3hzLkpqan8x}

# ===============================
# JPA / HIBERNATE
# ===============================
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# ===============================
# CONNECTION POOLING (HikariCP)
# ===============================
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-test-query=SELECT 1
spring.datasource.hikari.keepalive-time=60000
spring.datasource.hikari.max-lifetime=300000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.leak-detection-threshold=60000
spring.datasource.hikari.pool-name=LiftAKidsPool

# ===============================
# MULTIPART
# ===============================
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ===============================
# ACTUATOR / HEALTH
# ===============================
management.endpoints.web.base-path=/LiftAKids/actuator
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.health.db.enabled=true
management.health.defaults.enabled=true
management.health.status.http-mapping.down=503
management.health.status.http-mapping.out_of_service=503

# ===============================
# CLOUDFLARE R2 CONFIGURATION
# ===============================
cloud.aws.s3.endpoint=${R2_ENDPOINT:https://4a2f94d3198bde9344b5231ef7ae0106.r2.cloudflarestorage.com}
cloud.aws.credentials.access-key=${R2_ACCESS_KEY:d8e22edaae0bae7dd6e92c78e681ed35}
cloud.aws.credentials.secret-key=${R2_SECRET_KEY:545396207c8cf5b525dd7317421705355e51a1f63da6b98ed10e43f3042c6c21}
cloud.aws.s3.bucket=${R2_BUCKET:liftakids}
cloud.aws.region.static=auto
cloud.aws.stack.auto=false
cloud.r2.public-url=https://pub-3fe56fd9f0f449aab90340707cec8533.r2.dev

# ===============================
# EMAIL CONFIGURATION
# ===============================
spring.mail.host=${EMAIL_HOST:smtp.titan.email}
spring.mail.port=${EMAIL_PORT:465}
spring.mail.username=${EMAIL_USERNAME:contact@liftakid.org}
spring.mail.password=${EMAIL_PASSWORD:#2jWii;4-]omr^k}
spring.mail.protocol=smtp
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.ssl.enable=true
spring.mail.properties.mail.smtp.socketFactory.port=465
spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory
spring.mail.properties.mail.smtp.socketFactory.fallback=false
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

app.email.from=contact@liftakid.org
app.email.admin=contact@liftakid.org

# ===============================
# LOGGING
# ===============================
logging.level.root=INFO
logging.level.org.liftakids=DEBUG
logging.level.com.zaxxer.hikari=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
#olddatabase
#spring.datasource.url=jdbc:mysql://srv995.hstgr.io:3306/u611910731_liftakidsdb
#spring.datasource.username=u611910731_liftakids
#spring.datasource.password=2Fw43z~=d